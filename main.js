(()=>{"use strict";var e={138:(e,t,n)=>{n.d(t,{IK:()=>s,iQ:()=>d,m8:()=>o});const d=(e,t,n,d,s,o)=>({getTitle:()=>e,setTitle:t=>e=t,getDescription:()=>t,setDescription:e=>t=e,getDate:()=>n,setDate:e=>n=e,getPriority:()=>d,setPriority:e=>d=e,getStatus:()=>s,setStatus:e=>s=e,getId:()=>o,setId:e=>o=e}),s=(e,t)=>{let n=[];return{getTasks:()=>n,getProjectTitle:()=>e,getProjectId:()=>t,setProjectTitle:t=>e=t,setProjectId:e=>t=e,getTask:e=>n.find((t=>t.getId()===e)),addTask:e=>{n.push(e)},removeTask:e=>{n=n.filter((t=>t.getId()!==e))}}},o=()=>{let e=[];return{getProject:t=>e.find((e=>e.getProjectId()===t)),getProjects:()=>e,addProject:t=>{e.push(t)},removeProject:t=>{e=e.filter((e=>e.getProjectId()!==t))}}}},982:(e,t,n)=>{n.d(t,{B:()=>a,z:()=>c});const d=document.querySelectorAll("[data-modal-target]"),s=document.querySelectorAll("[data-close-button]"),o=document.getElementById("overlay");function a(e){null!=e&&(e.classList.add("active"),o.classList.add("active"))}function c(e){null!=e&&(e.classList.remove("active"),o.classList.remove("active"))}d.forEach((e=>{e.addEventListener("click",(()=>{a(document.querySelector(e.dataset.modalTarget))}))})),s.forEach((e=>{e.addEventListener("click",(()=>{c(e.closest(".form"))}))}))},803:(e,t,n)=>{var d=n(138),s=n(982);const o=(0,d.m8)(),a=(0,d.IK)("Default Project");o.addProject(a);const c=document.getElementById("due-date"),r=(new Date).toISOString().slice(0,10);c.value=r;const i=document.querySelector(".add-project"),l=document.getElementById("add-project"),g=document.querySelector(".set-new-project-btn"),u=document.querySelector(".cancel-new-project-btn"),m=document.getElementById("project-title-input");i.addEventListener("click",(()=>{l.classList.toggle("hidden"),i.classList.toggle("hidden")})),g.addEventListener("click",(()=>{const e=function(){const e=m.value,t=self.crypto.randomUUID();return(0,d.IK)(e,t)}();o.addProject(e),function(e){const t=document.querySelector(".projects"),n=document.createElement("div");n.id=e.getProjectId();const d=document.getElementById("add-project");n.classList.add("project","high-light");const s=document.createElement("div");s.classList.add("project-title-div","high-light");const o=document.createElement("span");o.classList.add("project-title","high-light"),o.textContent=e.getProjectTitle();const a=document.createElement("input");a.classList.add("edit-project-title","hidden"),o.type="text";const c=document.createElement("div");c.classList.add("edit-project-buttons");const r=document.createElement("span");r.classList.add("edit-project","material-icons-outlined"),r.textContent="edit";const i=document.createElement("span");i.classList.add("delete-project","material-icons-outlined"),i.textContent="delete";const l=document.createElement("span");l.classList.add("edit-project-btn","material-icons-outlined","hidden"),l.textContent="check";const g=document.createElement("span");g.classList.add("cancel-project-btn","material-icons-outlined","hidden"),g.textContent="cancel",n.append(s,c),s.append(o,a),c.append(r,i,l,g),t.insertBefore(n,d)}(e),l.classList.toggle("hidden"),i.classList.toggle("hidden"),m.value=""})),u.addEventListener("click",(()=>{l.classList.toggle("hidden"),i.classList.toggle("hidden"),m.value=""}));const p=document.querySelector(".projects"),h="\n    transform: scale(1.01);\n    transition: 0.2s;\n    box-shadow: 5px 5px 5px #bcbcbc;\n    ";let y;p.addEventListener("click",(e=>{if(document.querySelectorAll(".project").forEach((e=>{e.classList.contains("high-light")&&(e.removeAttribute("style"),e.classList.remove("selected"))})),e.target.matches("div")&&e.target.classList.contains("project")?(e.target.style.cssText=h,e.target.classList.add("selected")):e.target.matches("div")&&e.target.classList.contains("project-title-div")&&e.target.classList.contains("high-light")?(e.target.parentNode.style.cssText=h,e.target.parentNode.classList.add("selected")):e.target.matches("span")&&e.target.classList.contains("project-title")&&e.target.classList.contains("high-light")&&(e.target.parentNode.parentNode.style.cssText=h,e.target.parentNode.parentNode.classList.add("selected")),e.target.matches("span")&&"delete"==e.target.textContent){const t=e.target.parentNode.parentNode,n=t.id;o.removeProject(n),t.remove()}if(e.target.matches("span")&&"edit"==e.target.textContent){const t=e.target.parentNode.parentNode.children[0].children[0],n=e.target.parentNode.parentNode.children[0].children[1];n.value=t.textContent;const d=e.target.parentNode.children[0],s=e.target.parentNode.children[1],o=e.target.parentNode.children[2],a=e.target.parentNode.children[3];t.classList.toggle("hidden"),n.classList.toggle("hidden"),d.classList.toggle("hidden"),s.classList.toggle("hidden"),o.classList.toggle("hidden"),a.classList.toggle("hidden")}if(e.target.matches("span")&&"check"==e.target.textContent){const t=e.target.parentNode.parentNode.id,n=o.getProject(t),d=e.target.parentNode.parentNode.children[0].children[0],s=e.target.parentNode.parentNode.children[0].children[1];n.setProjectTitle(s.value),d.textContent=n.getProjectTitle();const a=e.target.parentNode.children[0],c=e.target.parentNode.children[1],r=e.target.parentNode.children[2],i=e.target.parentNode.children[3];d.classList.toggle("hidden"),s.classList.toggle("hidden"),a.classList.toggle("hidden"),c.classList.toggle("hidden"),r.classList.toggle("hidden"),i.classList.toggle("hidden")}if(e.target.matches("span")&&"close"==e.target.textContent){e.target.parentNode.parentNode.style.cssText=h,e.target.parentNode.parentNode.classList.add("selected");const t=e.target.parentNode.parentNode.children[0].children[0],n=e.target.parentNode.parentNode.children[0].children[1],d=e.target.parentNode.children[0],s=e.target.parentNode.children[1],o=e.target.parentNode.children[2],a=e.target.parentNode.children[3];t.classList.toggle("hidden"),n.classList.toggle("hidden"),d.classList.toggle("hidden"),s.classList.toggle("hidden"),o.classList.toggle("hidden"),a.classList.toggle("hidden")}})),document.querySelector(".tasks").addEventListener("click",(e=>{if(e.target.matches("span")&&"edit"==e.target.textContent){const t=document.querySelector("#edit-form");(0,s.B)(t);const n=e.target.parentNode.parentNode.id,d=a.getTask(n);y=n;const o=document.getElementById("edit-title"),c=document.getElementById("edit-description"),r=document.getElementById("edit-due-date"),i=document.getElementById("edit-priority"),l=document.getElementById("edit-status");o.value=d.getTitle(),c.value=d.getDescription(),r.value=d.getDate(),i.value=d.getPriority(),"Complete"==d.getStatus()?l.checked=!0:l.checked=!1}else if(e.target.matches("span")&&"delete"==e.target.textContent){const t=e.target.parentNode.parentNode;a.removeTask(t.id),t.remove()}else if(e.target.matches("button")&&"Details"==e.target.textContent){const t=e.target.parentNode.parentNode.id,n=a.getTask(t),d=document.getElementById("task-title-output"),o=document.getElementById("task-due-date-output"),c=document.getElementById("task-priority-output"),r=document.getElementById("task-status-output"),i=document.getElementById("task-details-output");d.textContent=n.getTitle(),o.textContent=n.getDate(),c.textContent=n.getPriority(),r.textContent=n.getStatus(),i.textContent=n.getDescription();const l=document.getElementById("task-details");(0,s.B)(l),document.querySelectorAll("[data-close-button]").forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest("#task-details");(0,s.z)(t)}))}))}}));const L=document.querySelector(".add-task"),v=document.querySelector(".edit-task");L.addEventListener("click",(e=>{e.preventDefault();const t=function(e){const t=document.getElementById("title").value,n=document.getElementById("description").value,s=document.getElementById("due-date").value,o=document.getElementById("priority").value;let a;a=document.getElementById("status").checked?"Complete":"Incomplete";const c=self.crypto.randomUUID();return(0,d.iQ)(t,n,s,o,a,c)}();!function(e){const t=document.querySelector(".tasks"),n=document.createElement("div");n.classList.add("task"),n.id=e.getId();const d=document.createElement("div");d.classList.add("first-task-elements"),"Low"==e.getPriority()?n.style.borderLeft="5px solid green":"Medium"==e.getPriority()?n.style.borderLeft="5px solid orange":n.style.borderLeft="5px solid red","Complete"==e.getStatus()?n.style.opacity="0.5":"Incomplete"==e.getStatus()&&(n.style.opactiy="1");const s=document.createElement("div");s.classList.add("title"),s.textContent=e.getTitle();const o=document.createElement("div");o.classList.add("last-task-elements");const a=document.createElement("button");a.textContent="Details",a.classList.add("details");const c=document.createElement("div");c.classList.add("due-date"),c.textContent=e.getDate();const r=document.createElement("span");r.classList.add("edit","material-icons-outlined"),r.textContent="edit";const i=document.createElement("span");i.classList.add("delete","material-icons-outlined"),i.textContent="delete",d.append(s),o.append(a,c,r,i),n.append(d,o),t.append(n)}(t),a.addTask(t),document.querySelector(".form-card").reset();const n=document.getElementById("due-date"),s=(new Date).toISOString().slice(0,10);n.value=s})),v.addEventListener("click",(e=>{e.preventDefault(),function(e){const t=a.getTask(y),n=document.getElementById("edit-title").value,d=document.getElementById("edit-description").value,s=document.getElementById("edit-due-date").value,o=document.getElementById("edit-priority").value,c=document.getElementById("edit-status").checked;t.setTitle(n),t.setDescription(d),t.setDate(s),t.setPriority(o),c?t.setStatus("Complete"):t.setStatus("Incomplete")}(),function(e){const t=document.getElementById(e),n=a.getTask(e);t.childNodes[0].textContent=n.getTitle(),"Low"==n.getPriority()?t.style.borderLeft="5px solid green":"Medium"==n.getPriority()?t.style.borderLeft="5px solid orange":t.style.borderLeft="5px solid red","Complete"==n.getStatus()?t.style.opacity="0.5":"Incomplete"==n.getStatus()&&(t.style.opacity="1"),t.childNodes[1].childNodes[1].textContent=n.getDate()}(y)}))}},t={};function n(d){var s=t[d];if(void 0!==s)return s.exports;var o=t[d]={exports:{}};return e[d](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var d in t)n.o(t,d)&&!n.o(e,d)&&Object.defineProperty(e,d,{enumerable:!0,get:t[d]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(138),n(803),n(982)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUt2QixVQWlHL0JpSSxDQUFhekMsUUNyYWIwQyxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxJQU9WLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsUUNwQmZKLEVBQW9CTyxFQUFJLENBQUNILEVBQVNJLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWFIsRUFBb0JVLEVBQUVGLEVBQVlDLEtBQVNULEVBQW9CVSxFQUFFTixFQUFTSyxJQUM1RUUsT0FBT0MsZUFBZVIsRUFBU0ssRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLE1DSjNFVCxFQUFvQlUsRUFBSSxDQUFDSyxFQUFLQyxJQUFVTCxPQUFPTSxVQUFVQyxlQUFlQyxLQUFLSixFQUFLQyxHQ0dsRmhCLEVBQW9CLEtBQ3BCQSxFQUFvQixLQUNNQSxFQUFvQixNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG8tZG8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG8tZG8vLi9zcmMvbW9kYWwuanMiLCJ3ZWJwYWNrOi8vdG8tZG8vLi9zcmMvdXNlci1pbnRlcmZhY2UuanMiLCJ3ZWJwYWNrOi8vdG8tZG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG8tZG8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RvLWRvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdG8tZG8vd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFRhc2sgPSAodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgc3RhdHVzLCBpZCkgPT4ge1xuXG4gICAgY29uc3QgZ2V0VGl0bGUgPSAoKSA9PiB0aXRsZTtcbiAgICBjb25zdCBzZXRUaXRsZSA9IG5ld1RpdGxlID0+IHRpdGxlID0gbmV3VGl0bGU7XG4gICAgY29uc3QgZ2V0RGVzY3JpcHRpb24gPSAoKSA9PiBkZXNjcmlwdGlvbjtcbiAgICBjb25zdCBzZXREZXNjcmlwdGlvbj0gbmV3RGVzY3JpcHRpb24gPT4gZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICBjb25zdCBnZXREYXRlID0gKCkgPT4gZHVlRGF0ZTtcbiAgICBjb25zdCBzZXREYXRlID0gbmV3RGF0ZSA9PiBkdWVEYXRlID0gbmV3RGF0ZTtcbiAgICBjb25zdCBnZXRQcmlvcml0eSA9ICgpID0+IHByaW9yaXR5O1xuICAgIGNvbnN0IHNldFByaW9yaXR5ID0gbmV3UHJpb3JpdHkgPT4gcHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcbiAgICBjb25zdCBnZXRTdGF0dXMgPSAoKSA9PiBzdGF0dXM7XG4gICAgY29uc3Qgc2V0U3RhdHVzID0gbmV3U3RhdHVzID0+IHN0YXR1cyA9IG5ld1N0YXR1cztcbiAgICBjb25zdCBnZXRJZCA9ICgpID0+IGlkO1xuICAgIGNvbnN0IHNldElkID0gbmV3SWQgPT4gaWQgPSBuZXdJZDtcblxuICAgIHJldHVybiB7Z2V0VGl0bGUsIHNldFRpdGxlLCBnZXREZXNjcmlwdGlvbiwgc2V0RGVzY3JpcHRpb24sIGdldERhdGUsIHNldERhdGUsIGdldFByaW9yaXR5LCBzZXRQcmlvcml0eSwgZ2V0U3RhdHVzLCBzZXRTdGF0dXMsIGdldElkLCBzZXRJZH1cbn07XG5cblxuY29uc3QgUHJvamVjdCA9IChwcm9qZWN0VGl0bGUsIHByb2plY3RJZCkgPT4ge1xuXG4gICAgbGV0IHByb2plY3QgPSBbXTtcblxuICAgIGNvbnN0IGdldFByb2plY3RUaXRsZSA9ICgpID0+IHByb2plY3RUaXRsZTtcbiAgICBjb25zdCBzZXRQcm9qZWN0VGl0bGUgPSBuZXdUaXRsZSA9PiBwcm9qZWN0VGl0bGUgPSBuZXdUaXRsZTtcbiAgICBjb25zdCBnZXRQcm9qZWN0SWQgPSAoKSA9PiBwcm9qZWN0SWQ7XG4gICAgY29uc3Qgc2V0UHJvamVjdElkID0gbmV3SWQgPT4gcHJvamVjdElkID0gbmV3SWQ7XG5cbiAgICBjb25zdCBnZXRUYXNrID0gKGlkKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9qZWN0LmZpbmQoKHRhc2spID0+IHRhc2suZ2V0SWQoKSA9PT0gaWQpXG4gICAgfTtcblxuICAgIGNvbnN0IGdldFRhc2tzID0gKCkgPT4gcHJvamVjdDtcblxuICAgIGNvbnN0IGFkZFRhc2sgPSAodGFzaykgPT4ge1xuICAgICAgICBwcm9qZWN0LnB1c2godGFzaylcbiAgICB9O1xuXG4gICAgY29uc3QgcmVtb3ZlVGFzayA9IChpZCkgPT4ge1xuICAgICAgICBwcm9qZWN0ID0gcHJvamVjdC5maWx0ZXIoKHRhc2spID0+IHRhc2suZ2V0SWQoKSAhPT0gaWQpXG4gICAgfTtcblxuICAgIHJldHVybiB7Z2V0VGFza3MsIGdldFByb2plY3RUaXRsZSwgZ2V0UHJvamVjdElkLCBzZXRQcm9qZWN0VGl0bGUsIHNldFByb2plY3RJZCwgZ2V0VGFzaywgYWRkVGFzaywgcmVtb3ZlVGFza31cbn07XG5cblxuY29uc3QgVG9EbyA9ICgpID0+IHtcbiAgICBcbiAgICBsZXQgdG9EbyA9IFtdO1xuICAgIFxuICAgIGNvbnN0IGdldFByb2plY3QgPSAocHJvamVjdElkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b0RvLmZpbmQoKHByb2plY3QpID0+IHByb2plY3QuZ2V0UHJvamVjdElkKCkgPT09IHByb2plY3RJZClcbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0UHJvamVjdHMgPSAoKSA9PiB0b0RvO1xuXG4gICAgY29uc3QgYWRkUHJvamVjdCA9IChwcm9qZWN0KSA9PiB7XG4gICAgICAgIHRvRG8ucHVzaChwcm9qZWN0KVxuICAgIH07XG5cbiAgICBjb25zdCByZW1vdmVQcm9qZWN0ID0gKHByb2plY3RJZCkgPT4ge1xuICAgICAgICB0b0RvID0gdG9Eby5maWx0ZXIoKHByb2plY3QpID0+IHByb2plY3QuZ2V0UHJvamVjdElkKCkgIT09IHByb2plY3RJZClcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB7Z2V0UHJvamVjdCwgZ2V0UHJvamVjdHMsIGFkZFByb2plY3QsIHJlbW92ZVByb2plY3R9XG59O1xuXG5leHBvcnQge1Rhc2ssIFByb2plY3QsIFRvRG99IiwiY29uc3Qgb3Blbk1vZGFsQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1tb2RhbC10YXJnZXRdXCIpO1xuY29uc3QgY2xvc2VNb2RhbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtY2xvc2UtYnV0dG9uXVwiKTtcbmNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm92ZXJsYXlcIik7XG5cbm9wZW5Nb2RhbEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidXR0b24uZGF0YXNldC5tb2RhbFRhcmdldCk7XG4gICAgICAgIG9wZW5Gb3JtKGZvcm0pO1xuICAgIH0pXG59KSBcblxuY2xvc2VNb2RhbEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBmb3JtID0gYnV0dG9uLmNsb3Nlc3QoXCIuZm9ybVwiKVxuICAgICAgICBjbG9zZUZvcm0oZm9ybSk7XG4gICAgfSlcbn0pXG5cbmZ1bmN0aW9uIG9wZW5Gb3JtKGZvcm0pIHtcbiAgICBpZiAoZm9ybSA9PSBudWxsKSByZXR1cm5cbiAgICBmb3JtLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xufVxuXG5mdW5jdGlvbiBjbG9zZUZvcm0oZm9ybSkge1xuICAgIGlmIChmb3JtID09IG51bGwpIHJldHVyblxuICAgIGZvcm0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG59XG5cbmV4cG9ydCB7b3BlbkZvcm0sIGNsb3NlRm9ybX0iLCJpbXBvcnQge1Rhc2ssIFByb2plY3QsIFRvRG99IGZyb20gJy4vaW5kZXgnXG5pbXBvcnQge29wZW5Gb3JtLCBjbG9zZUZvcm19IGZyb20gJy4vbW9kYWwnXG5cblxuLy8gSW5pdGlhbGl6ZSBUby1EbyBMaXN0XG5cbmNvbnN0IHRvRG9MaXN0ID0gVG9EbygpXG5cblxuLy8gSW5pdGlhbGl6ZSBEZWZhdWx0IFByb2plY3RcbmNvbnN0IGRlZmF1bHRQcm9qZWN0ID0gUHJvamVjdCgnRGVmYXVsdCBQcm9qZWN0JylcbnRvRG9MaXN0LmFkZFByb2plY3QoZGVmYXVsdFByb2plY3QpXG5cblxuLy8gSW5pdGlhbGl6ZSBGb3JtIERlZmF1bHRzXG5jb25zdCB0YXNrRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWUtZGF0ZScpXG5jb25zdCB0b2RheURhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xudGFza0RhdGUudmFsdWUgPSB0b2RheURhdGU7XG5cblxuLy8gUHJvamVjdCBVSVxuXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0KCkge1xuICAgY29uc3QgcHJvamVjdFRpdGxlID0gcHJvamVjdFRpdGxlSW5wdXQudmFsdWVcbiAgIGNvbnN0IHByb2plY3RJZCA9IHNlbGYuY3J5cHRvLnJhbmRvbVVVSUQoKTtcblxuICAgY29uc3QgbmV3UHJvamVjdCA9IFByb2plY3QocHJvamVjdFRpdGxlLCBwcm9qZWN0SWQpXG4gICByZXR1cm4gbmV3UHJvamVjdFxufVxuXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0VUkocHJvamVjdCkge1xuICAgIGNvbnN0IHByb2plY3RzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c1wiKVxuICAgIGNvbnN0IHByb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHByb2plY3REaXYuaWQgPSBwcm9qZWN0LmdldFByb2plY3RJZCgpXG5cbiAgICBjb25zdCBhZGRQcm9qZWN0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtcHJvamVjdFwiKVxuICAgIHByb2plY3REaXYuY2xhc3NMaXN0LmFkZCgncHJvamVjdCcsICdoaWdoLWxpZ2h0JylcblxuICAgIGNvbnN0IHByb2plY3RUaXRsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgcHJvamVjdFRpdGxlRGl2LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LXRpdGxlLWRpdlwiLCBcImhpZ2gtbGlnaHRcIilcblxuICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICAgIHByb2plY3RUaXRsZS5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC10aXRsZVwiLCBcImhpZ2gtbGlnaHRcIilcbiAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0LmdldFByb2plY3RUaXRsZSgpXG5cbiAgICBjb25zdCBwcm9qZWN0VGl0bGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICBwcm9qZWN0VGl0bGVJbnB1dC5jbGFzc0xpc3QuYWRkKFwiZWRpdC1wcm9qZWN0LXRpdGxlXCIsIFwiaGlkZGVuXCIpXG4gICAgcHJvamVjdFRpdGxlLnR5cGUgPSBcInRleHRcIlxuXG4gICAgY29uc3QgcHJvamVjdEVkaXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHByb2plY3RFZGl0RGl2LmNsYXNzTGlzdC5hZGQoXCJlZGl0LXByb2plY3QtYnV0dG9uc1wiKVxuXG4gICAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcImVkaXQtcHJvamVjdFwiLCBcIm1hdGVyaWFsLWljb25zLW91dGxpbmVkXCIpXG4gICAgZWRpdEJ0bi50ZXh0Q29udGVudCA9ICdlZGl0J1xuXG4gICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgZGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoXCJkZWxldGUtcHJvamVjdFwiLCBcIm1hdGVyaWFsLWljb25zLW91dGxpbmVkXCIpXG4gICAgZGVsZXRlQnRuLnRleHRDb250ZW50ID0gJ2RlbGV0ZSdcblxuICAgIGNvbnN0IGNoZWNrQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgY2hlY2tCdG4uY2xhc3NMaXN0LmFkZChcImVkaXQtcHJvamVjdC1idG5cIiwgXCJtYXRlcmlhbC1pY29ucy1vdXRsaW5lZFwiLCBcImhpZGRlblwiKVxuICAgIGNoZWNrQnRuLnRleHRDb250ZW50ID0gJ2NoZWNrJ1xuXG4gICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgY2FuY2VsQnRuLmNsYXNzTGlzdC5hZGQoXCJjYW5jZWwtcHJvamVjdC1idG5cIiwgXCJtYXRlcmlhbC1pY29ucy1vdXRsaW5lZFwiLCBcImhpZGRlblwiKVxuICAgIGNhbmNlbEJ0bi50ZXh0Q29udGVudCA9ICdjYW5jZWwnXG5cbiAgICBwcm9qZWN0RGl2LmFwcGVuZChwcm9qZWN0VGl0bGVEaXYsIHByb2plY3RFZGl0RGl2KVxuICAgIHByb2plY3RUaXRsZURpdi5hcHBlbmQocHJvamVjdFRpdGxlLCBwcm9qZWN0VGl0bGVJbnB1dClcbiAgICBwcm9qZWN0RWRpdERpdi5hcHBlbmQoZWRpdEJ0biwgZGVsZXRlQnRuLCBjaGVja0J0biwgY2FuY2VsQnRuKVxuICAgIHByb2plY3RzQ29udGFpbmVyLmluc2VydEJlZm9yZShwcm9qZWN0RGl2LCBhZGRQcm9qZWN0RGl2KVxufVxuXG5cbi8vIEFkZCBQcm9qZWN0IEV2ZW50IExpc3RlbmVyc1xuY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtcHJvamVjdCcpXG5jb25zdCBhZGRQcm9qZWN0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1wcm9qZWN0JylcbmNvbnN0IHNldFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNldC1uZXctcHJvamVjdC1idG5cIilcbmNvbnN0IGNhbmNlbFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhbmNlbC1uZXctcHJvamVjdC1idG5cIilcbmNvbnN0IHByb2plY3RUaXRsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0LXRpdGxlLWlucHV0XCIpXG5cbmFkZFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgYWRkUHJvamVjdERpdi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKVxuICAgIGFkZFByb2plY3RCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJylcbn0pXG5cbnNldFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY29uc3QgbmV3UHJvamVjdCA9IGNyZWF0ZVByb2plY3QoKVxuICAgIHRvRG9MaXN0LmFkZFByb2plY3QobmV3UHJvamVjdClcbiAgICBjcmVhdGVQcm9qZWN0VUkobmV3UHJvamVjdClcbiAgICBhZGRQcm9qZWN0RGl2LmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpXG4gICAgYWRkUHJvamVjdEJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKVxuICAgIHByb2plY3RUaXRsZUlucHV0LnZhbHVlID0gJydcbn0pXG5cbmNhbmNlbFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgYWRkUHJvamVjdERpdi5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKVxuICAgIGFkZFByb2plY3RCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJylcbiAgICBwcm9qZWN0VGl0bGVJbnB1dC52YWx1ZSA9ICcnXG59KVxuXG5cbi8vIER5bmFtaWMgUHJvamVjdCBFdmVudCBMaXN0ZW5lcnNcbmZ1bmN0aW9uIHJlbW92ZVByb2plY3RTdHlsaW5ncygpIHtcbiAgICBjb25zdCBwcm9qZWN0RGl2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0JylcbiAgICBwcm9qZWN0RGl2cy5mb3JFYWNoKGUgPT4ge1xuICAgICAgICBpZiAoZS5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZ2gtbGlnaHQnKSkge1xuICAgICAgICAgICAgZS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJylcbiAgICAgICAgICAgIGUuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdHMnKVxuY29uc3QgcHJvamVjdFN0eWxlID0gYFxuICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wMSk7XG4gICAgdHJhbnNpdGlvbjogMC4ycztcbiAgICBib3gtc2hhZG93OiA1cHggNXB4IDVweCAjYmNiY2JjO1xuICAgIGBcblxucHJvamVjdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIC8vIEhvdmVyIC8gU2VsZWN0aW9uIHN0eWxpbmdcbiAgICByZW1vdmVQcm9qZWN0U3R5bGluZ3MoKVxuICAgIGlmIChlLnRhcmdldC5tYXRjaGVzKFwiZGl2XCIpICYmIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncHJvamVjdCcpKSB7XG4gICAgICAgIGUudGFyZ2V0LnN0eWxlLmNzc1RleHQgPSBwcm9qZWN0U3R5bGVcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKVxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcyhcImRpdlwiKSAmJiBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2plY3QtdGl0bGUtZGl2JykgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWdoLWxpZ2h0JykpIHtcbiAgICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5zdHlsZS5jc3NUZXh0ID0gcHJvamVjdFN0eWxlXG4gICAgICAgIGUudGFyZ2V0LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKVxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcyhcInNwYW5cIikgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9qZWN0LXRpdGxlJykgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWdoLWxpZ2h0JykpIHtcbiAgICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnN0eWxlLmNzc1RleHQgPSBwcm9qZWN0U3R5bGVcbiAgICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJylcbiAgICB9XG5cbiAgICAvLyBEZWxldGUgUHJvamVjdFxuXG4gICAgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCJzcGFuXCIpICYmIGUudGFyZ2V0LnRleHRDb250ZW50ID09ICdkZWxldGUnKSB7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZVxuICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSBwcm9qZWN0LmlkXG4gICAgICAgIHRvRG9MaXN0LnJlbW92ZVByb2plY3QocHJvamVjdElkKVxuICAgICAgICBwcm9qZWN0LnJlbW92ZSgpXG4gICAgfVxuXG4gICAgLy8gRWRpdCBQcm9qZWN0XG4gICAgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCJzcGFuXCIpICYmIGUudGFyZ2V0LnRleHRDb250ZW50ID09ICdlZGl0Jykge1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdXG4gICAgICAgIGlucHV0LnZhbHVlID0gdGl0bGUudGV4dENvbnRlbnRcblxuICAgICAgICBjb25zdCBlZGl0QnRuID0gZS50YXJnZXQucGFyZW50Tm9kZS5jaGlsZHJlblswXVxuICAgICAgICBjb25zdCBkZWxldGVCdG4gPSBlLnRhcmdldC5wYXJlbnROb2RlLmNoaWxkcmVuWzFdXG4gICAgICAgIGNvbnN0IGVkaXRQcm9qZWN0QnRuID0gZS50YXJnZXQucGFyZW50Tm9kZS5jaGlsZHJlblsyXVxuICAgICAgICBjb25zdCBjYW5jZWxCdG4gPSBlLnRhcmdldC5wYXJlbnROb2RlLmNoaWxkcmVuWzNdXG5cbiAgICAgICAgdGl0bGUuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKVxuICAgICAgICBpbnB1dC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgICAgIGVkaXRCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKVxuICAgICAgICBkZWxldGVCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKVxuICAgICAgICBlZGl0UHJvamVjdEJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgICAgIGNhbmNlbEJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgfVxuXG4gICAgLy8gRWRpdCBQcm9qZWN0IFRpdGxlXG4gICAgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCJzcGFuXCIpICYmIGUudGFyZ2V0LnRleHRDb250ZW50ID09ICdjaGVjaycpIHtcblxuXG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5pZFxuICAgICAgICBjb25zdCBwcm9qZWN0ID0gdG9Eb0xpc3QuZ2V0UHJvamVjdChwcm9qZWN0SWQpXG4gICAgICAgIFxuICAgICAgICBjb25zdCB0aXRsZSA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5jaGlsZHJlblswXS5jaGlsZHJlblswXVxuICAgICAgICBjb25zdCBpbnB1dCA9IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5jaGlsZHJlblswXS5jaGlsZHJlblsxXVxuICAgICAgICBwcm9qZWN0LnNldFByb2plY3RUaXRsZShpbnB1dC52YWx1ZSlcbiAgICAgICAgdGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0LmdldFByb2plY3RUaXRsZSgpXG5cbiAgICAgICAgY29uc3QgZWRpdEJ0biA9IGUudGFyZ2V0LnBhcmVudE5vZGUuY2hpbGRyZW5bMF07XG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGUudGFyZ2V0LnBhcmVudE5vZGUuY2hpbGRyZW5bMV07XG4gICAgICAgIGNvbnN0IGVkaXRQcm9qZWN0QnRuID0gZS50YXJnZXQucGFyZW50Tm9kZS5jaGlsZHJlblsyXTtcbiAgICAgICAgY29uc3QgY2FuY2VsQnRuID0gZS50YXJnZXQucGFyZW50Tm9kZS5jaGlsZHJlblszXTtcblxuICAgICAgICB0aXRsZS5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcbiAgICAgICAgZWRpdEJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgICAgIGVkaXRQcm9qZWN0QnRuLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcbiAgICAgICAgY2FuY2VsQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcbiAgICB9XG5cbiAgICAvLyBDYW5jZWwgRWRpdFxuICAgIGlmIChlLnRhcmdldC5tYXRjaGVzKFwic3BhblwiKSAmJiBlLnRhcmdldC50ZXh0Q29udGVudCA9PSAnY2xvc2UnKSB7XG5cbiAgICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnN0eWxlLmNzc1RleHQgPSBwcm9qZWN0U3R5bGVcbiAgICAgICAgZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJylcbiAgICBcbiAgICAgICAgY29uc3QgdGl0bGUgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF1cbiAgICAgICAgY29uc3QgaW5wdXQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV1cbiAgICAgICAgY29uc3QgZWRpdEJ0biA9IGUudGFyZ2V0LnBhcmVudE5vZGUuY2hpbGRyZW5bMF07XG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGUudGFyZ2V0LnBhcmVudE5vZGUuY2hpbGRyZW5bMV07XG4gICAgICAgIGNvbnN0IGVkaXRQcm9qZWN0QnRuID0gZS50YXJnZXQucGFyZW50Tm9kZS5jaGlsZHJlblsyXTtcbiAgICAgICAgY29uc3QgY2FuY2VsQnRuID0gZS50YXJnZXQucGFyZW50Tm9kZS5jaGlsZHJlblszXTtcblxuICAgICAgICB0aXRsZS5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcbiAgICAgICAgZWRpdEJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpXG4gICAgICAgIGVkaXRQcm9qZWN0QnRuLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIilcbiAgICAgICAgY2FuY2VsQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRkZW5cIil9XG59KVxuXG4gICAgIFxuXG4vLyBUYXNrIFVJXG5cbmZ1bmN0aW9uIGNyZWF0ZVRhc2socHJvamVjdCkge1xuICAgIGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpLnZhbHVlXG4gICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2NyaXB0aW9uJykudmFsdWVcbiAgICBjb25zdCB0YXNrRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkdWUtZGF0ZScpLnZhbHVlXG4gICAgY29uc3QgdGFza1ByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW9yaXR5JykudmFsdWVcbiAgICBjb25zdCB0YXNrQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzJykuY2hlY2tlZFxuICAgIGxldCB0YXNrU3RhdHVzXG4gICAgaWYgKHRhc2tDaGVja2JveCkge1xuICAgICAgICB0YXNrU3RhdHVzID0gJ0NvbXBsZXRlJ1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRhc2tTdGF0dXMgPSAnSW5jb21wbGV0ZSdcbiAgICB9XG4gICAgY29uc3QgdGFza0lkID0gc2VsZi5jcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIGNvbnN0IG5ld1Rhc2sgPSBUYXNrKHRhc2tUaXRsZSwgdGFza0Rlc2NyaXB0aW9uLCB0YXNrRGF0ZSwgdGFza1ByaW9yaXR5LCB0YXNrU3RhdHVzLCB0YXNrSWQpXG4gICAgcmV0dXJuIG5ld1Rhc2tcbn1cblxuZnVuY3Rpb24gdXBkYXRlVGFzayhwcm9qZWN0KSB7XG4gICAgY29uc3QgdGFza1RvRWRpdCA9IGRlZmF1bHRQcm9qZWN0LmdldFRhc2sodGFza0lkKVxuICAgIGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LXRpdGxlJykudmFsdWVcbiAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1kZXNjcmlwdGlvbicpLnZhbHVlXG4gICAgY29uc3QgdGFza0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1kdWUtZGF0ZScpLnZhbHVlXG4gICAgY29uc3QgdGFza1ByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtcHJpb3JpdHknKS52YWx1ZVxuICAgIGNvbnN0IHRhc2tDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LXN0YXR1cycpLmNoZWNrZWRcblxuICAgIHRhc2tUb0VkaXQuc2V0VGl0bGUodGFza1RpdGxlKVxuICAgIHRhc2tUb0VkaXQuc2V0RGVzY3JpcHRpb24odGFza0Rlc2NyaXB0aW9uKVxuICAgIHRhc2tUb0VkaXQuc2V0RGF0ZSh0YXNrRGF0ZSlcbiAgICB0YXNrVG9FZGl0LnNldFByaW9yaXR5KHRhc2tQcmlvcml0eSlcbiAgICBpZiAodGFza0NoZWNrYm94KSB7XG4gICAgICAgIHRhc2tUb0VkaXQuc2V0U3RhdHVzKCdDb21wbGV0ZScpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGFza1RvRWRpdC5zZXRTdGF0dXMoJ0luY29tcGxldGUnKVxuICAgIH0gXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRhc2tVSSh0YXNrKSB7XG4gICAgY29uc3QgdGFza3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tzXCIpXG4gICAgY29uc3QgdGFza0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRhc2tEaXYuY2xhc3NMaXN0LmFkZChcInRhc2tcIilcbiAgICB0YXNrRGl2LmlkID0gdGFzay5nZXRJZCgpXG5cbiAgICBjb25zdCBmaXJzdFRhc2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBmaXJzdFRhc2tEaXYuY2xhc3NMaXN0LmFkZChcImZpcnN0LXRhc2stZWxlbWVudHNcIilcblxuICAgIGlmICh0YXNrLmdldFByaW9yaXR5KCkgPT0gJ0xvdycpIHtcbiAgICAgICAgdGFza0Rpdi5zdHlsZS5ib3JkZXJMZWZ0ID0gJzVweCBzb2xpZCBncmVlbic7XG4gICAgfSBlbHNlIGlmICh0YXNrLmdldFByaW9yaXR5KCkgPT0gJ01lZGl1bScpIHtcbiAgICAgICAgdGFza0Rpdi5zdHlsZS5ib3JkZXJMZWZ0ID0gJzVweCBzb2xpZCBvcmFuZ2UnXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGFza0Rpdi5zdHlsZS5ib3JkZXJMZWZ0ID0gJzVweCBzb2xpZCByZWQnXG4gICAgfVxuXG4gICAgaWYgKHRhc2suZ2V0U3RhdHVzKCkgPT0gJ0NvbXBsZXRlJykge1xuICAgICAgICB0YXNrRGl2LnN0eWxlLm9wYWNpdHkgPSAnMC41J1xuICAgIH0gZWxzZSBpZiAodGFzay5nZXRTdGF0dXMoKSA9PSAnSW5jb21wbGV0ZScpIHtcbiAgICAgICAgdGFza0Rpdi5zdHlsZS5vcGFjdGl5ID0gJzEnXG4gICAgfVxuXG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIilcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9IHRhc2suZ2V0VGl0bGUoKVxuXG4gICAgY29uc3QgbGFzdFRhc2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsYXN0VGFza0Rpdi5jbGFzc0xpc3QuYWRkKFwibGFzdC10YXNrLWVsZW1lbnRzXCIpO1xuXG4gICAgY29uc3QgZGV0YWlsc0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpXG4gICAgZGV0YWlsc0J0bi50ZXh0Q29udGVudCA9ICdEZXRhaWxzJ1xuICAgIGRldGFpbHNCdG4uY2xhc3NMaXN0LmFkZCgnZGV0YWlscycpXG5cbiAgICBjb25zdCBkYXRlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGF0ZURpdi5jbGFzc0xpc3QuYWRkKCdkdWUtZGF0ZScpO1xuICAgIGRhdGVEaXYudGV4dENvbnRlbnQgPSB0YXNrLmdldERhdGUoKVxuXG4gICAgY29uc3QgZWRpdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBlZGl0LmNsYXNzTGlzdC5hZGQoXCJlZGl0XCIsIFwibWF0ZXJpYWwtaWNvbnMtb3V0bGluZWRcIik7XG4gICAgZWRpdC50ZXh0Q29udGVudCA9ICdlZGl0JztcblxuICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBkZWxldGVCdG4uY2xhc3NMaXN0LmFkZChcImRlbGV0ZVwiLCBcIm1hdGVyaWFsLWljb25zLW91dGxpbmVkXCIpO1xuICAgIGRlbGV0ZUJ0bi50ZXh0Q29udGVudCA9ICdkZWxldGUnO1xuXG4gICAgZmlyc3RUYXNrRGl2LmFwcGVuZCh0aXRsZSlcbiAgICBsYXN0VGFza0Rpdi5hcHBlbmQoZGV0YWlsc0J0biwgZGF0ZURpdiwgZWRpdCwgZGVsZXRlQnRuKVxuICAgIHRhc2tEaXYuYXBwZW5kKGZpcnN0VGFza0RpdiwgbGFzdFRhc2tEaXYpXG4gICAgdGFza3NDb250YWluZXIuYXBwZW5kKHRhc2tEaXYpXG59O1xuXG5mdW5jdGlvbiB1cGRhdGVUYXNrVUkoaWQpIHtcbiAgICBjb25zdCB0YXNrRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpXG4gICAgY29uc3QgdGFzayA9IGRlZmF1bHRQcm9qZWN0LmdldFRhc2soaWQpXG5cbiAgICBjb25zdCB0YXNrVGl0bGUgPSB0YXNrRGl2LmNoaWxkTm9kZXNbMF1cbiAgICB0YXNrVGl0bGUudGV4dENvbnRlbnQgPSB0YXNrLmdldFRpdGxlKClcblxuICAgIGlmICh0YXNrLmdldFByaW9yaXR5KCkgPT0gJ0xvdycpIHtcbiAgICAgICAgdGFza0Rpdi5zdHlsZS5ib3JkZXJMZWZ0ID0gJzVweCBzb2xpZCBncmVlbic7XG4gICAgfSBlbHNlIGlmICh0YXNrLmdldFByaW9yaXR5KCkgPT0gJ01lZGl1bScpIHtcbiAgICAgICAgdGFza0Rpdi5zdHlsZS5ib3JkZXJMZWZ0ID0gJzVweCBzb2xpZCBvcmFuZ2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRhc2tEaXYuc3R5bGUuYm9yZGVyTGVmdCA9ICc1cHggc29saWQgcmVkJztcbiAgICB9XG5cbiAgICBpZiAodGFzay5nZXRTdGF0dXMoKSA9PSAnQ29tcGxldGUnKSB7XG4gICAgICAgIHRhc2tEaXYuc3R5bGUub3BhY2l0eSA9ICcwLjUnO1xuICAgIH0gZWxzZSBpZiAodGFzay5nZXRTdGF0dXMoKSA9PSAnSW5jb21wbGV0ZScpIHtcbiAgICAgICAgdGFza0Rpdi5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IHRhc2tEaXYuY2hpbGROb2Rlc1sxXS5jaGlsZE5vZGVzWzFdXG4gICAgdGFza0R1ZURhdGUudGV4dENvbnRlbnQgPSB0YXNrLmdldERhdGUoKVxufVxuXG5cbi8vIER5bmFtaWMgVGFzayBFdmVudCBMaXN0ZW5lcnNcblxubGV0IHRhc2tJZCAvLyB0aGUgdmFyaWFibGUgdG8gYWNjZXNzIGEgc3BlY2lmaWMgdGFzayBpZCBmb3IgZWRpdGluZ1xuXG5jb25zdCB0YXNrc0RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza3NcIilcbnRhc2tzRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsgICBcblxuICAgIC8vIEVkaXRcbiAgICBpZiAoZS50YXJnZXQubWF0Y2hlcyhcInNwYW5cIikgJiYgZS50YXJnZXQudGV4dENvbnRlbnQgPT0gXCJlZGl0XCIpIHtcbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1mb3JtXCIpO1xuICAgICAgICBvcGVuRm9ybShmb3JtKVxuXG4gICAgICAgIGNvbnN0IGlkID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmlkXG4gICAgICAgIGNvbnN0IHRhc2tUb0VkaXQgPSBkZWZhdWx0UHJvamVjdC5nZXRUYXNrKGlkKVxuICAgICAgICBcbiAgICAgICAgdGFza0lkID0gaWRcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LXRpdGxlJylcbiAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtZGVzY3JpcHRpb24nKVxuICAgICAgICBjb25zdCB0YXNrRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWR1ZS1kYXRlJylcbiAgICAgICAgY29uc3QgdGFza1ByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtcHJpb3JpdHknKVxuICAgICAgICBjb25zdCB0YXNrQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1zdGF0dXMnKVxuXG4gICAgICAgIHRhc2tUaXRsZS52YWx1ZSA9IHRhc2tUb0VkaXQuZ2V0VGl0bGUoKTtcbiAgICAgICAgdGFza0Rlc2NyaXB0aW9uLnZhbHVlID0gdGFza1RvRWRpdC5nZXREZXNjcmlwdGlvbigpO1xuICAgICAgICB0YXNrRGF0ZS52YWx1ZSA9IHRhc2tUb0VkaXQuZ2V0RGF0ZSgpO1xuICAgICAgICB0YXNrUHJpb3JpdHkudmFsdWUgPSB0YXNrVG9FZGl0LmdldFByaW9yaXR5KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGFza1RvRWRpdC5nZXRTdGF0dXMoKSA9PSAnQ29tcGxldGUnKSB7XG4gICAgICAgICAgICB0YXNrQ2hlY2tib3guY2hlY2tlZCA9IHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhc2tDaGVja2JveC5jaGVja2VkID0gZmFsc2VcbiAgICAgICAgfSAgICAgICAgXG5cbiAgICAvLyBEZWxldGUgIFxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQubWF0Y2hlcyhcInNwYW5cIikgJiYgZS50YXJnZXQudGV4dENvbnRlbnQgPT0gXCJkZWxldGVcIikge1xuICAgICAgICBjb25zdCB0YXNrID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlXG4gICAgICAgIGRlZmF1bHRQcm9qZWN0LnJlbW92ZVRhc2sodGFzay5pZClcbiAgICAgICAgdGFzay5yZW1vdmUoKVxuICAgIFxuXG4gICAgLy8gRGV0YWlscyBCdXR0b25cbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0Lm1hdGNoZXMoXCJidXR0b25cIikgJiYgZS50YXJnZXQudGV4dENvbnRlbnQgPT0gJ0RldGFpbHMnKSB7XG4gICAgICAgIGNvbnN0IGlkID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmlkXG4gICAgICAgIGNvbnN0IHRhc2sgPSBkZWZhdWx0UHJvamVjdC5nZXRUYXNrKGlkKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2stdGl0bGUtb3V0cHV0XCIpXG4gICAgICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2stZHVlLWRhdGUtb3V0cHV0XCIpXG4gICAgICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLXByaW9yaXR5LW91dHB1dFwiKVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhc2stc3RhdHVzLW91dHB1dFwiKVxuICAgICAgICBjb25zdCBkZXRhaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLWRldGFpbHMtb3V0cHV0XCIpXG5cblxuICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IHRhc2suZ2V0VGl0bGUoKVxuICAgICAgICBkYXRlLnRleHRDb250ZW50ID0gdGFzay5nZXREYXRlKClcbiAgICAgICAgcHJpb3JpdHkudGV4dENvbnRlbnQgPSB0YXNrLmdldFByaW9yaXR5KClcbiAgICAgICAgc3RhdHVzLnRleHRDb250ZW50ID0gdGFzay5nZXRTdGF0dXMoKVxuICAgICAgICBkZXRhaWxzLnRleHRDb250ZW50ID0gdGFzay5nZXREZXNjcmlwdGlvbigpXG5cbiAgICAgICAgY29uc3QgZGV0YWlsc01vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YXNrLWRldGFpbHNcIik7XG4gICAgICAgIG9wZW5Gb3JtKGRldGFpbHNNb2RhbClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNsb3NlTW9kYWxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWNsb3NlLWJ1dHRvbl1cIilcbiAgICAgICAgY2xvc2VNb2RhbEJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybSA9IGJ1dHRvbi5jbG9zZXN0KFwiI3Rhc2stZGV0YWlsc1wiKVxuICAgICAgICAgICAgICAgIGNsb3NlRm9ybShmb3JtKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG59KTtcblxuLy8gVGFzayBCdXR0b24gRnVuY3Rpb25hbGl0eVxuXG5jb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC10YXNrJyk7XG5jb25zdCBlZGl0VGFza0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0LXRhc2snKTtcblxuYWRkVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc3QgbmV3VGFzayA9IGNyZWF0ZVRhc2soKVxuICAgIGNyZWF0ZVRhc2tVSShuZXdUYXNrKVxuICAgIGRlZmF1bHRQcm9qZWN0LmFkZFRhc2sobmV3VGFzaylcbiAgICBjb25zdCBmb3JtQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1jYXJkXCIpO1xuICAgIGZvcm1DYXJkLnJlc2V0KCk7XG4gICAgY29uc3QgdGFza0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHVlLWRhdGUnKVxuICAgIGNvbnN0IHRvZGF5RGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7XG4gICAgdGFza0RhdGUudmFsdWUgPSB0b2RheURhdGU7XG59KVxuXG5lZGl0VGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgdXBkYXRlVGFzaygpXG4gICAgdXBkYXRlVGFza1VJKHRhc2tJZClcbn0pIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDEzOCk7XG5fX3dlYnBhY2tfcmVxdWlyZV9fKDgwMyk7XG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTgyKTtcbiJdLCJuYW1lcyI6WyJUYXNrIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJwcmlvcml0eSIsInN0YXR1cyIsImlkIiwiZ2V0VGl0bGUiLCJzZXRUaXRsZSIsIm5ld1RpdGxlIiwiZ2V0RGVzY3JpcHRpb24iLCJzZXREZXNjcmlwdGlvbiIsIm5ld0Rlc2NyaXB0aW9uIiwiZ2V0RGF0ZSIsInNldERhdGUiLCJuZXdEYXRlIiwiZ2V0UHJpb3JpdHkiLCJzZXRQcmlvcml0eSIsIm5ld1ByaW9yaXR5IiwiZ2V0U3RhdHVzIiwic2V0U3RhdHVzIiwibmV3U3RhdHVzIiwiZ2V0SWQiLCJzZXRJZCIsIm5ld0lkIiwiUHJvamVjdCIsInByb2plY3RUaXRsZSIsInByb2plY3RJZCIsInByb2plY3QiLCJnZXRUYXNrcyIsImdldFByb2plY3RUaXRsZSIsImdldFByb2plY3RJZCIsInNldFByb2plY3RUaXRsZSIsInNldFByb2plY3RJZCIsImdldFRhc2siLCJmaW5kIiwidGFzayIsImFkZFRhc2siLCJwdXNoIiwicmVtb3ZlVGFzayIsImZpbHRlciIsIlRvRG8iLCJ0b0RvIiwiZ2V0UHJvamVjdCIsImdldFByb2plY3RzIiwiYWRkUHJvamVjdCIsInJlbW92ZVByb2plY3QiLCJvcGVuTW9kYWxCdXR0b25zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xvc2VNb2RhbEJ1dHRvbnMiLCJvdmVybGF5IiwiZ2V0RWxlbWVudEJ5SWQiLCJvcGVuRm9ybSIsImZvcm0iLCJjbGFzc0xpc3QiLCJhZGQiLCJjbG9zZUZvcm0iLCJyZW1vdmUiLCJmb3JFYWNoIiwiYnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJkYXRhc2V0IiwibW9kYWxUYXJnZXQiLCJjbG9zZXN0IiwidG9Eb0xpc3QiLCJkZWZhdWx0UHJvamVjdCIsInRhc2tEYXRlIiwidG9kYXlEYXRlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic2xpY2UiLCJ2YWx1ZSIsImFkZFByb2plY3RCdG4iLCJhZGRQcm9qZWN0RGl2Iiwic2V0UHJvamVjdEJ0biIsImNhbmNlbFByb2plY3RCdG4iLCJwcm9qZWN0VGl0bGVJbnB1dCIsInRvZ2dsZSIsIm5ld1Byb2plY3QiLCJzZWxmIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsImNyZWF0ZVByb2plY3QiLCJwcm9qZWN0c0NvbnRhaW5lciIsInByb2plY3REaXYiLCJjcmVhdGVFbGVtZW50IiwicHJvamVjdFRpdGxlRGl2IiwidGV4dENvbnRlbnQiLCJ0eXBlIiwicHJvamVjdEVkaXREaXYiLCJlZGl0QnRuIiwiZGVsZXRlQnRuIiwiY2hlY2tCdG4iLCJjYW5jZWxCdG4iLCJhcHBlbmQiLCJpbnNlcnRCZWZvcmUiLCJjcmVhdGVQcm9qZWN0VUkiLCJwcm9qZWN0cyIsInByb2plY3RTdHlsZSIsInRhc2tJZCIsImUiLCJjb250YWlucyIsInJlbW92ZUF0dHJpYnV0ZSIsInRhcmdldCIsIm1hdGNoZXMiLCJzdHlsZSIsImNzc1RleHQiLCJwYXJlbnROb2RlIiwiY2hpbGRyZW4iLCJpbnB1dCIsImVkaXRQcm9qZWN0QnRuIiwidGFza1RvRWRpdCIsInRhc2tUaXRsZSIsInRhc2tEZXNjcmlwdGlvbiIsInRhc2tQcmlvcml0eSIsInRhc2tDaGVja2JveCIsImNoZWNrZWQiLCJkYXRlIiwiZGV0YWlscyIsImRldGFpbHNNb2RhbCIsImFkZFRhc2tCdXR0b24iLCJlZGl0VGFza0J1dHRvbiIsInByZXZlbnREZWZhdWx0IiwibmV3VGFzayIsInRhc2tTdGF0dXMiLCJjcmVhdGVUYXNrIiwidGFza3NDb250YWluZXIiLCJ0YXNrRGl2IiwiZmlyc3RUYXNrRGl2IiwiYm9yZGVyTGVmdCIsIm9wYWNpdHkiLCJvcGFjdGl5IiwibGFzdFRhc2tEaXYiLCJkZXRhaWxzQnRuIiwiZGF0ZURpdiIsImVkaXQiLCJjcmVhdGVUYXNrVUkiLCJyZXNldCIsInVwZGF0ZVRhc2siLCJjaGlsZE5vZGVzIiwidXBkYXRlVGFza1VJIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIl0sInNvdXJjZVJvb3QiOiIifQ==